# 6. セルUI (Cell UI)

セルUIは情報単位であるCellの表示・編集を行うUI。

## 6.1 基本構成 (Basic Structure)

### 6.1.1 UIデザイン
**背景色**
- 背景色はレア度を元に算出する
**折り返し表示**
- 指定がない限りテキストの折り返し表示を許可する
**可変高さ**
- テキスト入力エリアは、内容の長さに応じて高さが自動的に調整される

### 6.1.2 共通の挙動
- **自動保存 (Auto Save)**
  フォーカスが外れた場合や入力が完了したタイミングで、データベースへ自動的に保存・更新する


## 6.2 セルタイプ別仕様 (Specs by Cell Type)

### 6.2.1 タイムセル (Time Cell)
Attribute: `Time`。
**入力フィールド**
- **タイトル**：テキストフィールドに`name`の値を文字列で表示・編集
- **値**：年月日選択UIと時刻選択UIに`value`の値表示・編集
- **UI配置**：`name`と`value`のUIは縦に並べる

### 6.2.2 テキストセル (Text Cell)
Attribute：`Text`

**入力フィールド**
  - **タイトル**：改行なしのテキストフィールドに`name`の値を文字列で表示・編集
  　- タイトルのテキストフィールド内で改行キーを押したら値のテキストフィールドにフォーカスする
  - **値**：改行ありのテキストフィールドに`value`の値を文字列で表示・編集
  - **UI配置**：`name`と`value`のUIは縦に並べる
  - **空のフィールド**：セルUIにフォーカスがない時、タイトルや値が空の場合はそのテキストフィールドは非表示にする
  - **フォーカス制御**:
    - **空フィールド優先**: セルUIを選択（タップ）した際、`name`と`value`のうちテキストが空である方に自動的にフォーカスする。
    　-両方入力済みの場合は`value`に、両方空の場合は`name`にフォーカスする。
    - **アンダーライン**: フォーカス時、入力フィールドの下線が紫色（Purple）に変化し、アクティブ状態を明示します。

### 6.2.3 タスクセル (Task Cell)
Attribute: `Task`。
-**入力フィールド**
  - **タイトル**：テキストフィールドに`name`の値を文字列で表示・編集
  - **値**：チェックボックスを表示し`value`の値によるタスクの完了状態を表示・操作
  - **UI配置**：`value`→`name`の順でUIを横に並べる
  - **フォーカス制御**: タスクセルUIの選択・新規追加時にはタイトルのテキストフィールドにフォーカス
  　- テキストフィールドにテキストがある場合はテキストを全選択し入力カーソルを末尾に配置
