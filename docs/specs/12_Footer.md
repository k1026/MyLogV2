# フッター仕様

## 概要
アプリケーション下部に固定表示される操作バー

## 配置
- 常に画面下部に固定

## 構成要素

### 1. 左セクション (Left)
- **ソート切り替えボタン**
  - 機能: カードリストの時系列ソート順を切り替える（昇順 ⇔ 降順）
  - 初期状態: 降順（新しいものが上）
  - **処理仕様**:
    - 全データ読み込み完了後は、DBアクセスを行わずメモリ上で即座に並び替える
    - データ読み込み途中であっても、読み込み済みのデータに対して即時ソートを適用する（読み込みは継続される）
  - **処理の表示**：ソート処理中はヘッダーのDBアイコンを紫色に変え「sorting」の文字を表示する

### 2. 中央セクション (Center)
- **フィルタボタン**
  - **機能**: フィルタダイアログの開閉、およびフィルタ機能の無効化
  - **状態表示**：
    - **フィルタオフ(デフォルト)**：灰色。フィルタが設定されていない状態で表示される。タップされたらフィルタダイアログを開く。
    - **フィルタオン**：紫色。フィルタが設定されておりカードリストUIに適用されている状態で表示される。タップされたらフィルタの無効化状態に切り替わる。
    - **フィルタ無効状態**灰色。フィルタアイコンに斜め線。フィルタは設定されているが、カードリストUIには**デフォルトのフィルタ値を適用**する(フィルタされていないように見せる)状態。タップされたらフィルタダイアログを開く。

### 3. 右セクション (Right)
- **ビュー切り替えボタン**
  - 機能: カードリストの表示レイアウトを切り替える
  - モード:
    - **リストビュー**: 1列の標準リスト表示
    - **グリッドビュー**: 2列のグリッド表示
  - **処理仕様**:
    - 表示モードの切り替え時は、フィルタの再計算やソート順の再計算（DBへのアクセスを含む）を一切行わず、現在表示されているカードのスタイル（リスト/列挙）のみを即座に変更する。
  - アイコン: 次に切り替わるモード、または現在のモードを示すアイコンが動的に変化

## 動的表示制御
全画面で共通の表示制御が行われる。

- **スクロール連動 (全画面共通)**
  - **下方スクロール時**: 非表示
  - **上方スクロール時**: 表示

- **入力操作連動**
  - **input、textarea等のフォーカス時 (入力中)**: 非表示
  - **フォーカスアウト時 (入力完了時)**: 表示