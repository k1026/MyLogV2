---
name: planning
description: コードの実装・修正前に実行し要件定義や仕様書の更新を行う。
---

# 規則
- **【重要】このスキル呼び出し時はユーザーの指示がない限りコード実装や修正は行わないこと**。
- `agent/skills/SAT-DD/sat-dd/SKILL.md`での実装を前提に計画すること

Step 0. **事前準備**：
変更により影響を受ける範囲を絞り込むことで調査のコストを削減する。コマンドの使用時などはコストの低いものを優先する(例：`ls` での構造把握や `grep` でのキーワード検索)。

Step 1. **仕様確認**：
ユーザーからの指示を元に`docs/specs/`内の仕様書や既存のコードを分析し矛盾点や不整合、不備などが有れば報告する。

Step 2. **要件定義**：
実装・修正の要件を定義し、`docs/specs/*.md`の仕様書の作成または更新案を作成する。

Step 3. **計画作成**：
要件と既存コードの整合性を確認し、 `agent/skills/SAT-DD/sat-dd/SKILL.md`での実装を前提に実装計画を立てユーザーに提示する。
    **計画作成のガイドライン**
        - AIエージェントによる実施を前提に実行精度や処理効率を考慮すること。
        - 計画は性能の高くないAIモデルでも処理できるように実行単位を適切なサイズの**Step**に分割すること。        
        - Stepは「1ステップ・1ファイル・1関数」を原則とし、個別に実施できるよう考慮すること。
    

Step 4. **記録**：

- ユーザーに要件定義と実装計画を提示し計画書を作成する。
    - AIエージェントによる実装精度を高めるために、必要な場合は計画の各ステップを適切なサイズのPhaseに割り振り分割すること。
    - 計画書は`docs/plan/` 階層に、ファイル名を `(現在時刻のunix秒)-Phase_(フェーズ番号)-(計画共通の簡潔な作業内容).md` の形式で出力すること。
    - 可能な限りPhaseの完了毎に動作可能な状態を保つように計画せよ。
    - 計画書の冒頭には関連する仕様書のパスを明記すること。
    - 計画書には進捗確認チェックボックスやタスクリストは記載しないこと。
- 関連する仕様書を`agent\skills\SAT-DD\Specification\spec-template\SKILL.md`に従い更新または作成する。

