---
name: sat-dd
description: コード変更を安定実行するための SAT-DD の実行手順を提供します。このスキルは明示的に指示されない限り使用しないこと。
---


# 目的 (Goal)
コードの安定性を保ちプロジェクトの品質を保証すること。

# ルールと制約 (Rules & Constraints)
- 各テストファイルは実装コードと同じフォルダに作成すること。
- 必要な場合は`docs\specs\`内の関連する仕様書を参照すること

# 実装ワークフロー

## Step 1: テスト作成

1. まず、作業内容が外部から見た振る舞いを変える実装であるか確認せよ。

2. 振る舞いを変えない変更、修正、デバッグ、最適化などの作業の場合は テストを作成せずに**Step 3** に進む。

3. 新規実装や既存機能の変更など、外部から見た振る舞いが変わる作業の場合は`.agent\skills\SAT-DD\Review\test-guideline\SKILL.md`に準拠して**テストファースト**でテストを作成し **Step 2** に進む。

## Step 2: テスト実行

1. テストコマンドで作成したテストを実行する。

2. テストログを確認して**作成した全てのテストが「論理的に失敗（Red）」している**ことを確認したら **Step 3** に進む。

3. 作成したテストに失敗していないものがある場合は **Step1** に戻りそのテストを修正する。

## Step 3: コード実装

1. `.agent\skills\SAT-DD\Review\code-guideline\SKILL.md`に準拠してコードの実装・変更・修正を実施する。

2. コードを作成したらテストコマンドを実行する。

3. 出力されたテストログの内容を確認し**全てのテストがパス**したら **Step 4** に進む。

4. テストでエラーが出た場合は 1. に戻り修正する。テスト自体に問題がある場合は **Step 1** に戻りテストの作成からやり直して良い。

## Step 4: 最適化と厳格化

1.  **Step 3** で作成したコードに対して`.agent\skills\SAT-DD\Review\code-guideline\SKILL.md`に準拠しているか確認し、改善の余地が有れば修正する。

2. **Step 1** で作成したテストコードが `.agent\skills\SAT-DD\Review\test-guideline\SKILL.md`に準拠しているか確認し、改善の余地が有れば修正する。

3. テストコマンドを実行し、テストログの内容を確認して作成したテストが全てパスしていたら **Step 5** に進む。

4. テストでエラーが出た場合は **Step 4** の最初に戻り修正する。実装コードとテストに解決できない矛盾がある場合は **Step 1** に戻りテストの作成からやり直して良い。

## Step 5: 最終確認
1. テストコマンドで既存の全テストを実行しテストログの内容を確認する。

2. エラーが出た場合は軽微なものならばこの段階で修正して良い。それ以外は対処せずに報告対象とする。

3. `.agent\skills\SAT-DD\Specification\spec-update\SKILL.md` を呼び出し、実装箇所のコード内容に合わせて仕様書を更新する。

4. ユーザーに対し、実装内容と最終的なテスト結果、仕様書の更新を報告する。実装中に見つかった問題がある場合は併せて報告する。
