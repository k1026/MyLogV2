---
name: test-optimization
description: 既存のテストコードの最適化を行うためのスキル。
---

# 目的 (Goal)
既存のテストコードの問題を発見、修正し最適化することで堅牢かつ効率的なテスト環境を維持すること。

# 対象
現在実装されている全てのテスト

# 方針
・実装コードに対して十分なテストパターンを網羅させる
・単体テストに比重を置き、テストの独立性を高めること
・外部ではなくプロジェクト内のビジネスロジックをテストする
・公開されているインターフェースを通じて振る舞いをテストする
・外部依存の処理はモック化し効率化を測る
・不要なDB接続は避け、必要に応じてインメモリのオブジェクトなどで代用する
・最適化はボトルネックから優先的に行う

# ツール
・必要な場合は`npm run test:full-log`コマンドでテストを実行し、`test-full.log`ファイルを確認することでテストの問題やボトルネックを特定する

# 報告
・作業開始時に現在のテストを分析し現状と修正方針をユーザーに報告すること
・作業終了時に修正内容や改善結果などをユーザーに報告すること。